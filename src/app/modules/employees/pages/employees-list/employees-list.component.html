<h1>My Employees</h1>

<div class="card">
    <p-table [value]="employeesList" [paginator]="true" [rows]="15" [totalRecords]="totalRecords" [lazy]="true" [loading]="loading" [tableStyle]="{ 'min-width': '50rem' }"
        (onLazyLoad)="loadEmployees($event)" [rowsPerPageOptions]="[15, 30, 45]">
        <ng-template pTemplate="header">
            <tr>
                <th style="width:5%">#</th>
                <th style="width:10%">Foto</th>
                <th style="width:25%">Nombres</th>
                <th style="width:10%">Registro</th>
                <th style="width:20%">Correo</th>
                <th style="width:25%">Opciones</th>
                <th style="width:15%">Estado</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-employee let-i="rowIndex">
            <tr class="prueba">
                <td>{{ i + 1 }}</td>
                <td><img [src]="env.backendBaseUrl + employee.photo" alt="foto-empleado"></td>
                <td>{{ employee.full_name }}</td>
                <td>{{ employee.registration_date }}</td>
                <td>{{ employee.user.email }}</td>
                <td>
                    <div class="iconos">
                        <p-button (onClick)="showDialog(employee.id)" icon="pi pi-user"/>
                        <a href=""><i class="pi pi-pen-to-square" style="font-size: 20px"></i></a>
                        <a href=""><i class="pi pi-phone" style="font-size: 20px"></i></a>
                        <a href=""><i class="pi pi-file-edit" style="font-size: 20px"></i></a>
                    </div>
                </td>
                <td>{{ employee.user.status }}</td>
            </tr>
        </ng-template>
    </p-table>

    <div class="card flex justify-content-center">
        <p-dialog [header]="selectedEmployee ? (selectedEmployee.name + ' ' + selectedEmployee.last_name) : 'Empleado'" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
            <div class="flex align-items-center gap-3 mb-3">
                <label for="username" class="font-semibold w-6rem">Username</label>
                <input pInputText id="username" class="flex-auto" autocomplete="off" />
            </div>
            <div class="flex align-items-center gap-3 mb-5">
                <label for="email" class="font-semibold w-6rem">Email</label>
                <input pInputText id="email" class="flex-auto" autocomplete="off" />
            </div>
        </p-dialog>
    </div>
</div>